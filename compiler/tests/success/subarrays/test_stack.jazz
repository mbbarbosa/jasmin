fn get (reg ptr u64[2] r) -> reg u64 {
  reg u64 res;
  res = r[0];
  return res;
}

export fn main () -> reg u64 {
  reg u64 res tmp tmp2;
  stack u64[4] s;
  reg ptr u64[3] r;
  reg ptr u64[1] r2;

  res = 0;
  s[0] = 1;
  res += s[0];
  r = s[0:3];
  r2 = r[2:1];
  r2[0] = 2;
  res += r2[0];
  r[2:1] = r2;
  s[0:3] = r;
  res += s[0];
  return res;
} 
